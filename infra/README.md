# AWS Infrastructure for story-clunker

This CDK project was generated by Deploy2AWS to deploy your application to AWS Amplify.

## Prerequisites

1. AWS CLI configured with credentials
2. Node.js 18+ installed
3. GitHub Personal Access Token stored in AWS Secrets Manager

## Setup

### 1. Store your GitHub token in Secrets Manager

```bash
aws secretsmanager create-secret \
  --name github-token \
  --secret-string "your-github-personal-access-token"
```

### 2. Install dependencies

```bash
cd infra
npm install
```

### 3. Bootstrap CDK (first time only)

```bash
npx cdk bootstrap
```

### 4. Deploy

```bash
npm run deploy
```

## Environment Variables

The following environment variables are configured:
- `VITE_SUPABASE_URL`
- `VITE_SUPABASE_ANON_KEY`

To update environment variables, modify `lib/amplify-stack.ts` and redeploy.

## Useful Commands

- `npm run synth` - Synthesize CloudFormation template
- `npm run diff` - Compare deployed stack with current state
- `npm run deploy` - Deploy stack to AWS
- `npm run destroy` - Remove stack from AWS

## Reference

- Original deployment: https://main.d34bormtjisdf2.amplifyapp.com
- Generated by [Deploy2AWS](https://github.com/your-org/d2aws-web)
